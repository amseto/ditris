{"ast":null,"code":"import _toConsumableArray from\"/Users/albert/Desktop/-/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _createForOfIteratorHelper from\"/Users/albert/Desktop/-/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";import{child,set}from\"@firebase/database\";import{createSlice}from\"@reduxjs/toolkit\";import{TETRIMINOS}from\"../Components/GameUI/Tetrimino\";import Queue from\"../modules/piece-queue\";var pieceArray=[\"I\",\"I\",\"T\",\"T\",\"L\",\"L\",\"J\",\"J\",\"Z\",\"Z\",\"S\",\"S\",\"O\",\"O\"];var getRandomPiece=function getRandomPiece(){if(pieceArray.length===0){pieceArray=[\"I\",\"I\",\"T\",\"T\",\"L\",\"L\",\"J\",\"J\",\"Z\",\"Z\",\"S\",\"S\",\"O\",\"O\"];}var value=Math.floor(pieceArray.length*Math.random());return pieceArray.splice(value,1);};export var myRoomRef=null;var getCoords=function getCoords(type,rotatePos,xPos,yPos){return TETRIMINOS[type][rotatePos].map(function(row,rowPos){return row.map(function(col,colPos){if(col){return{x:xPos+colPos,y:yPos+rowPos};}return null;});});};var _rotatePiece=function rotatePiece(isCounterClockwise,state){var rotatePos=state.rotatePos;if(isCounterClockwise){if(rotatePos===0){return 3;}else{return rotatePos-1;}}else{if(rotatePos===3){return 0;}else{return rotatePos+1;}}};var convertMappingToCoords=function convertMappingToCoords(state,mapping){var forGhost=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;var coordArray=[];var _iterator=_createForOfIteratorHelper(mapping),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var array=_step.value;var _iterator2=_createForOfIteratorHelper(array),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var coord=_step2.value;if(coord){if(coordIsValid(state,coord,forGhost)){coordArray.push(coord);}}}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}}}catch(err){_iterator.e(err);}finally{_iterator.f();}return coordArray;};var gameStateInitialState={gameRunning:false,currentShape:null,currentCoords:[],ghostCoords:[],currentPieceState:\"NONE\",rotatePos:0,xPos:3,yPos:0,totalLinesCleared:0,grid:[[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"],[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"],[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"],[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"],[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"],[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"],[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"],[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"],[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"],[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"],[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"],[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"],[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"],[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"],[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"],[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"],[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"],[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"],[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"],[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"],[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"]],// winCondition:(state) =>{return state.totalLinesCleared >= 5},\npieceQueue:null,isGameWon:false,heldPiece:null,rotated:false,displayMessage:null};var removeLastState=function removeLastState(state){var _iterator3=_createForOfIteratorHelper(state.currentCoords),_step3;try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){var coord=_step3.value;state.grid[coord.y][coord.x]=\"None\";}}catch(err){_iterator3.e(err);}finally{_iterator3.f();}};var removeLastGhostPiece=function removeLastGhostPiece(state){var _iterator4=_createForOfIteratorHelper(state.ghostCoords),_step4;try{for(_iterator4.s();!(_step4=_iterator4.n()).done;){var coord=_step4.value;state.grid[coord.y][coord.x]=\"None\";}}catch(err){_iterator4.e(err);}finally{_iterator4.f();}};var placeBlocks=function placeBlocks(state){var forGhost=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(forGhost){var colorName=state.currentShape+\"ghost\";var _iterator5=_createForOfIteratorHelper(state.ghostCoords),_step5;try{for(_iterator5.s();!(_step5=_iterator5.n()).done;){var coord=_step5.value;state.grid[coord.y][coord.x]=colorName;var _iterator6=_createForOfIteratorHelper(state.currentCoords),_step6;try{for(_iterator6.s();!(_step6=_iterator6.n()).done;){var currentCoord=_step6.value;if(currentCoord.y===coord.y&&currentCoord.x===coord.x){state.grid[coord.y][coord.x]=state.currentShape;}}}catch(err){_iterator6.e(err);}finally{_iterator6.f();}}}catch(err){_iterator5.e(err);}finally{_iterator5.f();}}else{var _iterator7=_createForOfIteratorHelper(state.currentCoords),_step7;try{for(_iterator7.s();!(_step7=_iterator7.n()).done;){var _coord=_step7.value;state.grid[_coord.y][_coord.x]=state.currentShape;}}catch(err){_iterator7.e(err);}finally{_iterator7.f();}}};var coordIsValid=function coordIsValid(state,coord){var forGhost=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;if(coord){if(coord.y<=20&&coord.x>=0&&coord.x<=9){var _iterator8=_createForOfIteratorHelper(state.currentCoords),_step8;try{for(_iterator8.s();!(_step8=_iterator8.n()).done;){var currentCoord=_step8.value;if(forGhost){if(currentCoord.y===coord.y&&currentCoord.x===coord.x){return true;}}}}catch(err){_iterator8.e(err);}finally{_iterator8.f();}if(state.grid[coord.y][coord.x].length>1){return true;}}}return false;};export var pieceQueue=new Queue();var gameStateSlice=createSlice({name:\"gameState\",initialState:gameStateInitialState,reducers:{reset:function reset(state){pieceArray=[\"I\",\"I\",\"T\",\"T\",\"L\",\"L\",\"J\",\"J\",\"Z\",\"Z\",\"S\",\"S\",\"O\",\"O\"];state.grid=[[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"],[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"],[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"],[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"],[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"],[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"],[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"],[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"],[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"],[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"],[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"],[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"],[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"],[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"],[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"],[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"],[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"],[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"],[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"],[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"],[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"]];state.xPos=3;state.yPos=0;state.rotatePos=0;state.totalLinesCleared=0;state.displayMessage=null;state.rotated=false;state.heldPiece=null;state.currentPieceState=\"GETTING READY\";pieceQueue.empty();state.gameRunning=false;},newGame:function newGame(state){pieceArray=[\"I\",\"I\",\"T\",\"T\",\"L\",\"L\",\"J\",\"J\",\"Z\",\"Z\",\"S\",\"S\",\"O\",\"O\"];state.grid=[[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"],[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"],[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"],[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"],[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"],[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"],[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"],[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"],[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"],[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"],[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"],[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"],[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"],[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"],[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"],[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"],[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"],[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"],[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"],[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"],[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"]];state.xPos=3;state.yPos=0;state.rotatePos=0;state.totalLinesCleared=0;state.rotated=false;state.heldPiece=null;state.displayMessage=\"READY\";state.currentPieceState=\"GETTING READY\";pieceQueue.empty();state.gameRunning=false;},gettingReady:function gettingReady(state){if(state.currentPieceState===\"GETTING READY\"){state.currentPieceState=\"BEFORE START\";state.displayMessage=\"GO!\";}else if(state.currentPieceState===\"BEFORE START\"){state.displayMessage=null;state.gameRunning=true;state.currentShape=getRandomPiece()[0];for(var i=0;i<5;i++){pieceQueue.enqueue.apply(pieceQueue,_toConsumableArray(getRandomPiece()));}}},clearLines:function clearLines(state){var newGrid=[];var linesCleared=0;var _iterator9=_createForOfIteratorHelper(state.grid),_step9;try{for(_iterator9.s();!(_step9=_iterator9.n()).done;){var row=_step9.value;if(row.every(function(blockType){return blockType!==\"None\";})){state.totalLinesCleared+=1;linesCleared+=1;}else{newGrid.push(row);}}}catch(err){_iterator9.e(err);}finally{_iterator9.f();}for(var i=0;i<linesCleared;i++){newGrid.unshift([\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"]);}state.grid=newGrid;},getNewPiece:function getNewPiece(state){if(!state.gameRunning){return;}state.ghostCoords=[];state.rotated=false;state.currentShape=pieceQueue.dequeue();pieceQueue.enqueue.apply(pieceQueue,_toConsumableArray(getRandomPiece()));state.xPos=3;state.yPos=0;state.rotatePos=0;state.currentCoords=convertMappingToCoords(state,getCoords(state.currentShape,state.rotatePos,state.xPos,state.yPos));if(state.currentCoords.length<4){state.gameRunning=false;state.displayMessage=\"YOU LOST\";console.log(\"lost\");return;}placeBlocks(state);state.currentPieceState=\"FALLING\";},rotatePiece:function rotatePiece(state,action){var originalRotatePos=state.rotatePos;state.rotatePos=_rotatePiece(action.payload,{rotatePos:state.rotatePos});removeLastState(state);state.currentCoords=convertMappingToCoords(state,getCoords(state.currentShape,state.rotatePos,state.xPos,state.yPos));if(state.currentCoords.length<4){state.rotatePos=originalRotatePos;state.currentCoords=convertMappingToCoords(state,getCoords(state.currentShape,state.rotatePos,state.xPos,state.yPos));}else{state.currentPieceState=\"FALLING\";}placeBlocks(state);},dropPiece:function dropPiece(state){if(state.gameRunning){if(state.currentPieceState===\"LANDING\"){state.currentPieceState=\"FROZEN\";return;}removeLastState(state);state.yPos+=1;state.currentCoords=convertMappingToCoords(state,getCoords(state.currentShape,state.rotatePos,state.xPos,state.yPos));if(state.currentCoords.length<4){state.yPos-=1;state.currentCoords=convertMappingToCoords(state,getCoords(state.currentShape,state.rotatePos,state.xPos,state.yPos));state.currentPieceState=\"LANDING\";}else{state.currentPieceState=\"FALLING\";}placeBlocks(state);}else{}},getGhostCoords:function getGhostCoords(state){if(!state.gameRunning){return;}removeLastGhostPiece(state);state.ghostCoords=[];var _iterator10=_createForOfIteratorHelper(state.currentCoords),_step10;try{for(_iterator10.s();!(_step10=_iterator10.n()).done;){var coord=_step10.value;state.ghostCoords.push({x:coord.x,y:coord.y});}}catch(err){_iterator10.e(err);}finally{_iterator10.f();}var ghostYPos=state.yPos;while(state.ghostCoords.length===4){ghostYPos+=1;state.ghostCoords=convertMappingToCoords(state,getCoords(state.currentShape,state.rotatePos,state.xPos,ghostYPos),true);}ghostYPos-=1;state.ghostCoords=convertMappingToCoords(state,getCoords(state.currentShape,state.rotatePos,state.xPos,ghostYPos),true);},hardDrop:function hardDrop(state){removeLastState(state);state.currentCoords=state.ghostCoords;placeBlocks(state);state.currentPieceState=\"FROZEN\";},showGhostPiece:function showGhostPiece(state){if(!state.gameRunning){return;}placeBlocks(state,true);},shiftLeft:function shiftLeft(state){removeLastState(state);state.xPos-=1;state.currentCoords=convertMappingToCoords(state,getCoords(state.currentShape,state.rotatePos,state.xPos,state.yPos));if(state.currentCoords.length<4){state.xPos+=1;state.currentCoords=convertMappingToCoords(state,getCoords(state.currentShape,state.rotatePos,state.xPos,state.yPos));}else{state.currentPieceState=\"FALLING\";}placeBlocks(state);},shiftRight:function shiftRight(state){removeLastState(state);state.xPos+=1;state.currentCoords=convertMappingToCoords(state,getCoords(state.currentShape,state.rotatePos,state.xPos,state.yPos));if(state.currentCoords.length<4){state.xPos-=1;state.currentCoords=convertMappingToCoords(state,getCoords(state.currentShape,state.rotatePos,state.xPos,state.yPos));}else{state.currentPieceState=\"FALLING\";}placeBlocks(state);},checkIfGameWon:function checkIfGameWon(state){if(state.totalLinesCleared>=4){console.log(\"won\");state.isGameWon=true;state.gameRunning=false;state.displayMessage=\"YOU WON\";}},holdPiece:function holdPiece(state){if(state.rotated===true){return;}state.rotated=true;removeLastState(state);if(state.heldPiece===null){state.heldPiece=state.currentShape;state.currentShape=pieceQueue.dequeue();pieceQueue.enqueue.apply(pieceQueue,_toConsumableArray(getRandomPiece()));}else{var placeHolder=state.currentShape;state.currentShape=state.heldPiece;state.heldPiece=placeHolder;}state.xPos=3;state.yPos=0;state.rotatePos=0;state.currentCoords=convertMappingToCoords(state,getCoords(state.currentShape,state.rotatePos,state.xPos,state.yPos));placeBlocks(state);state.currentPieceState=\"FALLING\";}// setWinCondition(state,condition){\n//   state.winCondition = condition;\n// }\n}});export var gameStateActions=gameStateSlice.actions;export default gameStateSlice.reducer;","map":{"version":3,"names":["child","set","createSlice","TETRIMINOS","Queue","pieceArray","getRandomPiece","length","value","Math","floor","random","splice","myRoomRef","getCoords","type","rotatePos","xPos","yPos","map","row","rowPos","col","colPos","x","y","rotatePiece","isCounterClockwise","state","convertMappingToCoords","mapping","forGhost","coordArray","array","coord","coordIsValid","push","gameStateInitialState","gameRunning","currentShape","currentCoords","ghostCoords","currentPieceState","totalLinesCleared","grid","pieceQueue","isGameWon","heldPiece","rotated","displayMessage","removeLastState","removeLastGhostPiece","placeBlocks","colorName","currentCoord","gameStateSlice","name","initialState","reducers","reset","empty","newGame","gettingReady","i","enqueue","clearLines","newGrid","linesCleared","every","blockType","unshift","getNewPiece","dequeue","console","log","action","originalRotatePos","payload","dropPiece","getGhostCoords","ghostYPos","hardDrop","showGhostPiece","shiftLeft","shiftRight","checkIfGameWon","holdPiece","placeHolder","gameStateActions","actions","reducer"],"sources":["/Users/albert/Desktop/-/src/store/GameState.js"],"sourcesContent":["import { child, set } from \"@firebase/database\";\nimport { createSlice } from \"@reduxjs/toolkit\";\n\nimport { TETRIMINOS } from \"../Components/GameUI/Tetrimino\";\n\nimport Queue from \"../modules/piece-queue\";\n\nlet pieceArray = [\"I\", \"I\", \"T\", \"T\", \"L\", \"L\", \"J\", \"J\", \"Z\", \"Z\", \"S\", \"S\", \"O\", \"O\"];\nconst getRandomPiece = () => {\n   if (pieceArray.length === 0) {\n      pieceArray = [\"I\", \"I\", \"T\", \"T\", \"L\", \"L\", \"J\", \"J\", \"Z\", \"Z\", \"S\", \"S\", \"O\", \"O\"];\n   }\n   const value = Math.floor(pieceArray.length * Math.random());\n   return pieceArray.splice(value, 1);\n};\n\nexport let myRoomRef = null;\n\nconst getCoords = (type, rotatePos, xPos, yPos) =>\n   TETRIMINOS[type][rotatePos].map((row, rowPos) =>\n      row.map((col, colPos) => {\n         if (col) {\n            return { x: xPos + colPos, y: yPos + rowPos };\n         }\n         return null;\n      })\n   );\n\nconst rotatePiece = (isCounterClockwise, state) => {\n   let { rotatePos } = state;\n   if (isCounterClockwise) {\n      if (rotatePos === 0) {\n         return 3;\n      } else {\n         return rotatePos - 1;\n      }\n   } else {\n      if (rotatePos === 3) {\n         return 0;\n      } else {\n         return rotatePos + 1;\n      }\n   }\n};\n\nconst convertMappingToCoords = (state, mapping, forGhost = false) => {\n   let coordArray = [];\n   for (const array of mapping) {\n      for (const coord of array) {\n         if (coord) {\n            if (coordIsValid(state, coord, forGhost)) {\n               coordArray.push(coord);\n            }\n         }\n      }\n   }\n   return coordArray;\n};\n\nconst gameStateInitialState = {\n   gameRunning: false,\n   currentShape: null,\n   currentCoords: [],\n   ghostCoords: [],\n   currentPieceState: \"NONE\",\n   rotatePos: 0,\n   xPos: 3,\n   yPos: 0,\n   totalLinesCleared: 0,\n   grid: [\n      [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n      [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n      [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n      [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n      [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n      [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n      [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n      [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n      [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n      [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n      [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n      [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n      [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n      [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n      [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n      [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n      [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n      [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n      [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n      [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n      [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n   ],\n   // winCondition:(state) =>{return state.totalLinesCleared >= 5},\n   pieceQueue: null,\n   isGameWon: false,\n   heldPiece: null,\n   rotated: false,\n   displayMessage: null,\n\n};\n\nconst removeLastState = (state) => {\n   for (const coord of state.currentCoords) {\n      state.grid[coord.y][coord.x] = \"None\";\n   }\n};\n\nconst removeLastGhostPiece = (state) => {\n   for (const coord of state.ghostCoords) {\n      state.grid[coord.y][coord.x] = \"None\";\n   }\n};\n\nconst placeBlocks = (state, forGhost = false) => {\n   if (forGhost) {\n      const colorName = state.currentShape + \"ghost\";\n      for (const coord of state.ghostCoords) {\n         state.grid[coord.y][coord.x] = colorName;\n         for (const currentCoord of state.currentCoords) {\n            if (currentCoord.y === coord.y && currentCoord.x === coord.x) {\n               state.grid[coord.y][coord.x] = state.currentShape;\n            }\n         }\n      }\n   } else {\n      for (const coord of state.currentCoords) {\n         state.grid[coord.y][coord.x] = state.currentShape;\n      }\n   }\n   \n};\n\nconst coordIsValid = (state, coord, forGhost = false) => {\n   if (coord) {\n      if (coord.y <= 20 && coord.x >= 0 && coord.x <= 9) {\n         for (let currentCoord of state.currentCoords) {\n            if (forGhost) {\n               if (currentCoord.y === coord.y && currentCoord.x === coord.x) {\n                  return true;\n               }\n            }\n         }\n         if (state.grid[coord.y][coord.x].length > 1) {\n            return true;\n         }\n      }\n   }\n   return false;\n};\n\n\nexport let pieceQueue = new Queue();\n\nconst gameStateSlice = createSlice({\n   name: \"gameState\",\n   initialState: gameStateInitialState,\n   reducers: {\n      reset(state) {\n         pieceArray = [\"I\", \"I\", \"T\", \"T\", \"L\", \"L\", \"J\", \"J\", \"Z\", \"Z\", \"S\", \"S\", \"O\", \"O\"];\n         state.grid = [\n            [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n            [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n            [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n            [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n            [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n            [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n            [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n            [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n            [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n            [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n            [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n            [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n            [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n            [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n            [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n            [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n            [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n            [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n            [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n            [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n            [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n         ];\n         state.xPos = 3;\n         state.yPos = 0;\n         state.rotatePos = 0;\n         state.totalLinesCleared = 0;\n         state.displayMessage = null;\n         state.rotated = false\n         state.heldPiece = null\n         state.currentPieceState = \"GETTING READY\";\n         pieceQueue.empty();\n         state.gameRunning = false;\n      },\n      newGame(state) {\n         pieceArray = [\"I\", \"I\", \"T\", \"T\", \"L\", \"L\", \"J\", \"J\", \"Z\", \"Z\", \"S\", \"S\", \"O\", \"O\"];\n         state.grid = [\n            [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n            [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n            [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n            [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n            [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n            [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n            [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n            [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n            [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n            [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n            [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n            [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n            [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n            [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n            [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n            [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n            [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n            [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n            [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n            [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n            [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n         ];\n         state.xPos = 3;\n         state.yPos = 0;\n         state.rotatePos = 0;\n         state.totalLinesCleared = 0;\n         state.rotated = false\n         state.heldPiece = null\n         state.displayMessage = \"READY\";\n         state.currentPieceState = \"GETTING READY\";\n         pieceQueue.empty();\n         state.gameRunning = false;\n      },\n      gettingReady(state) {\n         if (state.currentPieceState === \"GETTING READY\") {\n            state.currentPieceState = \"BEFORE START\";\n            state.displayMessage = \"GO!\";\n         } else if (state.currentPieceState === \"BEFORE START\") {\n            state.displayMessage = null;\n            state.gameRunning = true;\n            state.currentShape = getRandomPiece()[0];\n            for (let i = 0; i < 5; i++) {\n               pieceQueue.enqueue(...getRandomPiece());\n            }\n         }\n      },\n      clearLines(state) {\n         let newGrid = [];\n         let linesCleared = 0;\n         for (const row of state.grid) {\n            if (row.every((blockType) => blockType !== \"None\")) {\n               state.totalLinesCleared += 1;\n               linesCleared += 1;\n            } else {\n               newGrid.push(row);\n            }\n         }\n         for (let i = 0; i < linesCleared; i++) {\n            newGrid.unshift([\n               \"None\",\n               \"None\",\n               \"None\",\n               \"None\",\n               \"None\",\n               \"None\",\n               \"None\",\n               \"None\",\n               \"None\",\n               \"None\",\n            ]);\n         }\n         state.grid = newGrid;\n      },\n      getNewPiece(state) {\n         if (!state.gameRunning) {\n            return;\n         }\n         state.ghostCoords = [];\n         state.rotated = false;\n         state.currentShape = pieceQueue.dequeue();\n         pieceQueue.enqueue(...getRandomPiece());\n         state.xPos = 3;\n         state.yPos = 0;\n         state.rotatePos = 0;\n         state.currentCoords = convertMappingToCoords(\n            state,\n            getCoords(state.currentShape, state.rotatePos, state.xPos, state.yPos)\n         );\n         if (state.currentCoords.length < 4) {\n            state.gameRunning = false;\n            state.displayMessage = \"YOU LOST\";\n            console.log(\"lost\");\n            return;\n         }\n         placeBlocks(state);\n         state.currentPieceState = \"FALLING\";\n      },\n      rotatePiece(state, action) {\n         const originalRotatePos = state.rotatePos;\n         state.rotatePos = rotatePiece(action.payload, {\n            rotatePos: state.rotatePos,\n         });\n         removeLastState(state);\n         state.currentCoords = convertMappingToCoords(\n            state,\n            getCoords(state.currentShape, state.rotatePos, state.xPos, state.yPos)\n         );\n         if (state.currentCoords.length < 4) {\n            state.rotatePos = originalRotatePos;\n            state.currentCoords = convertMappingToCoords(\n               state,\n               getCoords(state.currentShape, state.rotatePos, state.xPos, state.yPos)\n            );\n         } else {\n            state.currentPieceState = \"FALLING\";\n         }\n         placeBlocks(state);\n      },\n      dropPiece(state) {\n         if (state.gameRunning) {\n            if (state.currentPieceState === \"LANDING\") {\n               state.currentPieceState = \"FROZEN\";\n               return;\n            }\n            removeLastState(state);\n            state.yPos += 1;\n            state.currentCoords = convertMappingToCoords(\n               state,\n               getCoords(state.currentShape, state.rotatePos, state.xPos, state.yPos)\n            );\n            if (state.currentCoords.length < 4) {\n               state.yPos -= 1;\n               state.currentCoords = convertMappingToCoords(\n                  state,\n                  getCoords(state.currentShape, state.rotatePos, state.xPos, state.yPos)\n               );\n               state.currentPieceState = \"LANDING\";\n            } else {\n               state.currentPieceState = \"FALLING\";\n            }\n            placeBlocks(state);\n         } else {\n         }\n      },\n      getGhostCoords(state) {\n         if (!state.gameRunning) {\n            return;\n         }\n         removeLastGhostPiece(state);\n         state.ghostCoords = [];\n         for (let coord of state.currentCoords) {\n            state.ghostCoords.push({ x: coord.x, y: coord.y });\n         }\n         let ghostYPos = state.yPos;\n         while (state.ghostCoords.length === 4) {\n            ghostYPos += 1;\n            state.ghostCoords = convertMappingToCoords(\n               state,\n               getCoords(state.currentShape, state.rotatePos, state.xPos, ghostYPos),\n               true\n            );\n         }\n         ghostYPos -= 1;\n         state.ghostCoords = convertMappingToCoords(\n            state,\n            getCoords(state.currentShape, state.rotatePos, state.xPos, ghostYPos),\n            true\n         );\n      },\n      hardDrop(state) {\n         removeLastState(state);\n         state.currentCoords = state.ghostCoords;\n         placeBlocks(state);\n         state.currentPieceState = \"FROZEN\";\n      },\n      showGhostPiece(state) {\n         if (!state.gameRunning) {\n            return;\n         }\n         placeBlocks(state, true);\n      },\n      shiftLeft(state) {\n         removeLastState(state);\n         state.xPos -= 1;\n         state.currentCoords = convertMappingToCoords(\n            state,\n            getCoords(state.currentShape, state.rotatePos, state.xPos, state.yPos)\n         );\n         if (state.currentCoords.length < 4) {\n            state.xPos += 1;\n            state.currentCoords = convertMappingToCoords(\n               state,\n               getCoords(state.currentShape, state.rotatePos, state.xPos, state.yPos)\n            );\n         } else {\n            state.currentPieceState = \"FALLING\";\n         }\n         placeBlocks(state);\n      },\n      shiftRight(state) {\n         removeLastState(state);\n         state.xPos += 1;\n         state.currentCoords = convertMappingToCoords(\n            state,\n            getCoords(state.currentShape, state.rotatePos, state.xPos, state.yPos)\n         );\n         if (state.currentCoords.length < 4) {\n            state.xPos -= 1;\n            state.currentCoords = convertMappingToCoords(\n               state,\n               getCoords(state.currentShape, state.rotatePos, state.xPos, state.yPos)\n            );\n         } else {\n            state.currentPieceState = \"FALLING\";\n         }\n         placeBlocks(state);\n      },\n      checkIfGameWon(state) {\n         if (state.totalLinesCleared >= 4) {\n            console.log(\"won\");\n            state.isGameWon = true;\n            state.gameRunning = false;\n            state.displayMessage = \"YOU WON\";\n         }\n      },\n      holdPiece(state) {\n         if (state.rotated === true) {\n            return;\n         }\n         state.rotated = true;\n\n         removeLastState(state);\n         if (state.heldPiece === null) {\n            state.heldPiece = state.currentShape;\n            state.currentShape = pieceQueue.dequeue();\n            pieceQueue.enqueue(...getRandomPiece());\n         } else {\n            const placeHolder = state.currentShape;\n            state.currentShape = state.heldPiece;\n            state.heldPiece = placeHolder;\n         }\n         state.xPos = 3;\n         state.yPos = 0;\n         state.rotatePos = 0;\n         state.currentCoords = convertMappingToCoords(\n            state,\n            getCoords(state.currentShape, state.rotatePos, state.xPos, state.yPos)\n         );\n         placeBlocks(state);\n         state.currentPieceState = \"FALLING\"\n      },\n\n      // setWinCondition(state,condition){\n      //   state.winCondition = condition;\n      // }\n   },\n});\n\nexport const gameStateActions = gameStateSlice.actions;\n\nexport default gameStateSlice.reducer;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}