{"ast":null,"code":"import _regeneratorRuntime from\"/Users/albert/Desktop/-/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/albert/Desktop/-/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{Fragment,memo,useEffect,useState}from\"react\";import{useSelector,useDispatch}from\"react-redux\";import{gameStateActions2,myRoomRef}from\"../../store/GameState2\";import{child,off,onDisconnect,onValue,set}from\"@firebase/database\";import{auth,onlineUsersRef}from\"../../modules/firebase-config\";import Grid from\"./Components/Grid\";import PieceQueue from\"./Components/PieceQueue\";import LineClearedCounter from\"./Components/LineClearedCounter\";import{userInfoActions}from\"../../store/UserInfo\";import KeyControls,{keyIsDisabled,keyIsPressed,keyShiftCounter}from\"../../modules/KeyControls\";import WhoseTurnText from\"./Components/WhoseTurnText\";import InputForm from\"./Components/InputForm\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var startButtonLocked=false;var controlsLocked=false;var GameShared=function GameShared(){var dispatch=useDispatch();var controls=useSelector(function(state){return state.controls;});var playerNumber=useSelector(function(state){return state.gameState2.playerNumber;});var opponentName=useSelector(function(state){return state.userInfo.opponentName;});var myTurn=useSelector(function(state){return state.gameState2.myTurn;});var displayMessage=useSelector(function(state){return state.gameState2.displayMessage;});var gameRunning=useSelector(function(state){return state.gameState2.gameRunning;});var currentGameStatus=useSelector(function(state){return state.gameState2.currentGameStatus;});if(displayMessage.includes(\"WON\")){setTimeout(function(){startButtonLocked=false;},1000);}if(currentGameStatus===\"FROZEN\"){console.log(\"this occured\");dispatch(gameStateActions2.unfreeze());dispatch(gameStateActions2.clearLines());dispatch(gameStateActions2.checkIfGameWon());set(child(myRoomRef,\"turn\"),playerNumber===1?2:1);}useEffect(function(){if(gameRunning){off(child(myRoomRef,\"player\".concat(playerNumber===1?2:1,\"GameInfo\")));dispatch(gameStateActions2.newGame());return function(){};}},[gameRunning]);useEffect(function(){if(gameRunning&&myTurn){off(child(myRoomRef,\"grid\"));dispatch(gameStateActions2.getNewPiece(opponentName));dispatch(gameStateActions2.placeCurrentPiece(opponentName));dispatch(gameStateActions2.getGhostCoords());dispatch(gameStateActions2.showGhostPiece());var dropPieceInterval=setInterval(function(){gameLoop();},300);var handleInputInterval=setInterval(function(){keyHandler();},1);var shiftInputInterval=setInterval(function(){keyShiftHandler();},1);return function(){clearInterval(dropPieceInterval);clearInterval(handleInputInterval);clearInterval(shiftInputInterval);};}},[myTurn,gameRunning]);var keyShiftHandler=function keyShiftHandler(){for(var key in keyShiftCounter){if(keyShiftCounter[key]){keyShiftCounter[key]+=1;}}if(keyIsPressed[controls[\"softDrop\"]]&&keyIsDisabled[controls[\"softDrop\"]]&&keyShiftCounter[controls[\"softDrop\"]]>40){dispatch(gameStateActions2.dropPiece());keyIsDisabled[controls[\"softDrop\"]]=true;keyShiftCounter[controls[\"softDrop\"]]=30;}if(keyIsPressed[controls[\"moveRight\"]]&&keyIsDisabled[controls[\"moveRight\"]]&&keyShiftCounter[controls[\"moveRight\"]]>40){dispatch(gameStateActions2.shiftRight());dispatch(gameStateActions2.getGhostCoords());dispatch(gameStateActions2.showGhostPiece());keyIsDisabled[controls[\"moveRight\"]]=true;keyShiftCounter[controls[\"moveRight\"]]=30;}if(keyIsPressed[controls[\"moveLeft\"]]&&keyIsDisabled[controls[\"moveLeft\"]]&&keyShiftCounter[controls[\"moveLeft\"]]>40){dispatch(gameStateActions2.shiftLeft());dispatch(gameStateActions2.getGhostCoords());dispatch(gameStateActions2.showGhostPiece());keyIsDisabled[controls[\"moveLeft\"]]=true;keyShiftCounter[controls[\"moveLeft\"]]=30;}};var keyHandler=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(!gameRunning||controlsLocked)){_context.next=2;break;}return _context.abrupt(\"return\");case 2:if(keyIsPressed[controls[\"rotateLeft\"]]&&!keyIsDisabled[controls[\"rotateLeft\"]]){dispatch(gameStateActions2.rotatePiece(true));dispatch(gameStateActions2.getGhostCoords());dispatch(gameStateActions2.showGhostPiece());keyIsDisabled[controls[\"rotateLeft\"]]=true;}if(keyIsPressed[controls[\"rotateRight\"]]&&!keyIsDisabled[controls[\"rotateRight\"]]){dispatch(gameStateActions2.rotatePiece(false));dispatch(gameStateActions2.getGhostCoords());dispatch(gameStateActions2.showGhostPiece());keyIsDisabled[controls[\"rotateRight\"]]=true;}if(!(keyIsPressed[controls[\"hardDrop\"]]&&!keyIsDisabled[controls[\"hardDrop\"]])){_context.next=13;break;}controlsLocked=true;dispatch(gameStateActions2.hardDrop());dispatch(gameStateActions2.clearLines());dispatch(gameStateActions2.checkIfGameWon());_context.next=11;return set(child(myRoomRef,\"turn\"),playerNumber===1?2:1);case 11:keyIsDisabled[controls[\"hardDrop\"]]=true;setTimeout(function(){controlsLocked=false;},400);case 13:if(keyIsPressed[controls[\"softDrop\"]]&&!keyIsDisabled[controls[\"softDrop\"]]){keyShiftCounter[controls[\"softDrop\"]]=1;dispatch(gameStateActions2.dropPiece());dispatch(gameStateActions2.getGhostCoords());dispatch(gameStateActions2.showGhostPiece());keyIsDisabled[controls[\"softDrop\"]]=true;}if(keyIsPressed[controls[\"moveRight\"]]&&!keyIsDisabled[controls[\"moveRight\"]]){keyShiftCounter[controls[\"moveRight\"]]=1;dispatch(gameStateActions2.shiftRight());dispatch(gameStateActions2.getGhostCoords());dispatch(gameStateActions2.showGhostPiece());keyIsDisabled[controls[\"moveRight\"]]=true;}if(keyIsPressed[controls[\"moveLeft\"]]&&!keyIsDisabled[controls[\"moveLeft\"]]){keyShiftCounter[controls[\"moveLeft\"]]=1;dispatch(gameStateActions2.shiftLeft());dispatch(gameStateActions2.getGhostCoords());dispatch(gameStateActions2.showGhostPiece());keyIsDisabled[controls[\"moveLeft\"]]=true;}case 16:case\"end\":return _context.stop();}}},_callee);}));return function keyHandler(){return _ref.apply(this,arguments);};}();var gameLoop=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:dispatch(gameStateActions2.dropPiece());dispatch(gameStateActions2.getGhostCoords());dispatch(gameStateActions2.showGhostPiece());case 3:case\"end\":return _context2.stop();}}},_callee2);}));return function gameLoop(){return _ref2.apply(this,arguments);};}();var beginGame=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(){return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:set(child(myRoomRef,\"displayMessage\"),\"READY\");_context3.next=3;return new Promise(function(resolve){return setTimeout(resolve,500);});case 3:set(child(myRoomRef,\"displayMessage\"),\"GO\");_context3.next=6;return new Promise(function(resolve){return setTimeout(resolve,500);});case 6:_context3.next=8;return set(child(myRoomRef,\"grid\"),[[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"],[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"],[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"],[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"],[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"],[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"],[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"],[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"],[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"],[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"],[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"],[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"],[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"],[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"],[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"],[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"],[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"],[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"],[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"],[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"],[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"]]);case 8:_context3.next=10;return set(child(myRoomRef,\"displayMessage\"),\"in game\");case 10:_context3.next=12;return set(child(myRoomRef,\"/turn\"),playerNumber===1?2:1);case 12:case\"end\":return _context3.stop();}}},_callee3);}));return function beginGame(){return _ref3.apply(this,arguments);};}();onDisconnect(child(onlineUsersRef,auth.currentUser.uid+\"/inRoom\")).set(false);if(!displayMessage.includes(\"WON\")){onValue(child(myRoomRef,\"displayMessage\"),function(snapshot){if(snapshot.exists()){dispatch(gameStateActions2.setDisplayMessage(snapshot.val()));if(snapshot.val()===\"READY\"){dispatch(gameStateActions2.gettingReady());startButtonLocked=true;}}});}//updating the game grid\nif(gameRunning&&!myTurn){onValue(child(myRoomRef,\"grid\"),function(snapshot){if(snapshot.exists()){dispatch(gameStateActions2.setGrid(snapshot.val()));}});}if(gameRunning&&!myTurn){onValue(child(myRoomRef,\"player\".concat(playerNumber,\"GameInfo/linesCleared\")),function(snapshot){dispatch(gameStateActions2.setMyLinesCleared(snapshot.val()));});}//updating the queuePieces\nonValue(child(myRoomRef,\"player\".concat(playerNumber===1?2:1,\"GameInfo\")),function(snapshot){if(snapshot.exists()){dispatch(gameStateActions2.setOpponentInfo({opponentPieceQueue:snapshot.val().gameQueue,opponentLinesCleared:snapshot.val().linesCleared}));}});onValue(child(myRoomRef,\"turn\"),function(snapshot){if(snapshot.exists()){dispatch(gameStateActions2.setMyTurn(snapshot.val()===playerNumber));}});document.onkeydown=function(keycode){if(startButtonLocked){return;}if(keycode.key===controls[\"newGame\"]){startButtonLocked=true;beginGame();//    setStartGame(true);\n//    dispatch(gameStateActions.newGame());\n//    dispatch(gameStateActions.getNewPiece());\n//    dispatch(gameStateActions.getGhostCoords());\n//    dispatch(gameStateActions.showGhostPiece());\n}};return/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(KeyControls,{}),/*#__PURE__*/_jsx(WhoseTurnText,{}),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",flexWrap:\"nowrap\"},children:[/*#__PURE__*/_jsx(LineClearedCounter,{player:\"opponent\"}),/*#__PURE__*/_jsx(PieceQueue,{player:\"opponent\"}),/*#__PURE__*/_jsx(Grid,{}),/*#__PURE__*/_jsx(PieceQueue,{player:\"mine\"}),/*#__PURE__*/_jsx(LineClearedCounter,{player:\"mine\"})]}),!gameRunning&&/*#__PURE__*/_jsx(InputForm,{}),/*#__PURE__*/_jsxs(\"div\",{style:{color:\"yellow\"},children:[/*#__PURE__*/_jsx(\"p\",{children:\"How To Play:\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Press esc to start.\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Game starts with other person first.\"}),/*#__PURE__*/_jsx(\"p\",{children:\"After player drops piece, other player goes.\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Person that causes the board to overflow loses a line point.\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Play until a person clears an amount of lines.\"})]})]});};export default/*#__PURE__*/memo(GameShared);","map":{"version":3,"names":["Fragment","memo","useEffect","useState","useSelector","useDispatch","gameStateActions2","myRoomRef","child","off","onDisconnect","onValue","set","auth","onlineUsersRef","Grid","PieceQueue","LineClearedCounter","userInfoActions","KeyControls","keyIsDisabled","keyIsPressed","keyShiftCounter","WhoseTurnText","InputForm","startButtonLocked","controlsLocked","GameShared","dispatch","controls","state","playerNumber","gameState2","opponentName","userInfo","myTurn","displayMessage","gameRunning","currentGameStatus","includes","setTimeout","console","log","unfreeze","clearLines","checkIfGameWon","newGame","getNewPiece","placeCurrentPiece","getGhostCoords","showGhostPiece","dropPieceInterval","setInterval","gameLoop","handleInputInterval","keyHandler","shiftInputInterval","keyShiftHandler","clearInterval","key","dropPiece","shiftRight","shiftLeft","rotatePiece","hardDrop","beginGame","Promise","resolve","currentUser","uid","snapshot","exists","setDisplayMessage","val","gettingReady","setGrid","setMyLinesCleared","setOpponentInfo","opponentPieceQueue","gameQueue","opponentLinesCleared","linesCleared","setMyTurn","document","onkeydown","keycode","display","flexWrap","color"],"sources":["/Users/albert/Desktop/-/src/Components/Multiplayer/GameShared.js"],"sourcesContent":["import { Fragment, memo, useEffect, useState } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\n\nimport { gameStateActions2, myRoomRef } from \"../../store/GameState2\";\nimport { child, off, onDisconnect, onValue, set } from \"@firebase/database\";\nimport { auth, onlineUsersRef } from \"../../modules/firebase-config\";\n\nimport Grid from \"./Components/Grid\";\nimport PieceQueue from \"./Components/PieceQueue\";\nimport LineClearedCounter from \"./Components/LineClearedCounter\";\n\nimport { userInfoActions } from \"../../store/UserInfo\";\n\nimport KeyControls, {\n   keyIsDisabled,\n   keyIsPressed,\n   keyShiftCounter,\n} from \"../../modules/KeyControls\";\nimport WhoseTurnText from \"./Components/WhoseTurnText\";\nimport InputForm from \"./Components/InputForm\";\n\nlet startButtonLocked = false;\nlet controlsLocked = false;\n\nconst GameShared = () => {\n   const dispatch = useDispatch();\n\n   const controls = useSelector((state) => state.controls);\n\n   const playerNumber = useSelector((state) => state.gameState2.playerNumber);\n   const opponentName = useSelector((state) => state.userInfo.opponentName);\n\n   const myTurn = useSelector((state) => state.gameState2.myTurn);\n   const displayMessage = useSelector((state) => state.gameState2.displayMessage);\n   const gameRunning = useSelector((state) => state.gameState2.gameRunning);\n   const currentGameStatus = useSelector((state) => state.gameState2.currentGameStatus);\n\n   if (displayMessage.includes(\"WON\")) {\n      setTimeout(() => {\n         startButtonLocked = false;\n      }, 1000);\n   }\n   if (currentGameStatus === \"FROZEN\") {\n      console.log(\"this occured\");\n      dispatch(gameStateActions2.unfreeze());\n      dispatch(gameStateActions2.clearLines());\n      dispatch(gameStateActions2.checkIfGameWon());\n      set(child(myRoomRef, \"turn\"), playerNumber === 1 ? 2 : 1);\n   }\n\n   useEffect(() => {\n      if (gameRunning) {\n         off(child(myRoomRef, `player${playerNumber === 1 ? 2 : 1}GameInfo`));\n         dispatch(gameStateActions2.newGame());\n\n         return () => {};\n      }\n   }, [gameRunning]);\n\n   useEffect(() => {\n      if (gameRunning && myTurn) {\n         off(child(myRoomRef, \"grid\"));\n         dispatch(gameStateActions2.getNewPiece(opponentName));\n         dispatch(gameStateActions2.placeCurrentPiece(opponentName));\n         dispatch(gameStateActions2.getGhostCoords());\n         dispatch(gameStateActions2.showGhostPiece());\n         const dropPieceInterval = setInterval(() => {\n            gameLoop();\n         }, 300);\n         const handleInputInterval = setInterval(() => {\n            keyHandler();\n         }, 1);\n         const shiftInputInterval = setInterval(() => {\n            keyShiftHandler();\n         }, 1);\n         return () => {\n            clearInterval(dropPieceInterval);\n            clearInterval(handleInputInterval);\n            clearInterval(shiftInputInterval);\n         };\n      }\n   }, [myTurn, gameRunning]);\n\n   const keyShiftHandler = () => {\n      for (let key in keyShiftCounter) {\n         if (keyShiftCounter[key]) {\n            keyShiftCounter[key] += 1;\n         }\n      }\n      if (\n         keyIsPressed[controls[\"softDrop\"]] &&\n         keyIsDisabled[controls[\"softDrop\"]] &&\n         keyShiftCounter[controls[\"softDrop\"]] > 40\n      ) {\n         dispatch(gameStateActions2.dropPiece());\n         keyIsDisabled[controls[\"softDrop\"]] = true;\n         keyShiftCounter[controls[\"softDrop\"]] = 30;\n      }\n      if (\n         keyIsPressed[controls[\"moveRight\"]] &&\n         keyIsDisabled[controls[\"moveRight\"]] &&\n         keyShiftCounter[controls[\"moveRight\"]] > 40\n      ) {\n         dispatch(gameStateActions2.shiftRight());\n         dispatch(gameStateActions2.getGhostCoords());\n         dispatch(gameStateActions2.showGhostPiece());\n         keyIsDisabled[controls[\"moveRight\"]] = true;\n         keyShiftCounter[controls[\"moveRight\"]] = 30;\n      }\n      if (\n         keyIsPressed[controls[\"moveLeft\"]] &&\n         keyIsDisabled[controls[\"moveLeft\"]] &&\n         keyShiftCounter[controls[\"moveLeft\"]] > 40\n      ) {\n         dispatch(gameStateActions2.shiftLeft());\n         dispatch(gameStateActions2.getGhostCoords());\n         dispatch(gameStateActions2.showGhostPiece());\n         keyIsDisabled[controls[\"moveLeft\"]] = true;\n         keyShiftCounter[controls[\"moveLeft\"]] = 30;\n      }\n   };\n   const keyHandler = async () => {\n      if (!gameRunning || controlsLocked) {\n         return;\n      }\n      if (keyIsPressed[controls[\"rotateLeft\"]] && !keyIsDisabled[controls[\"rotateLeft\"]]) {\n         dispatch(gameStateActions2.rotatePiece(true));\n         dispatch(gameStateActions2.getGhostCoords());\n         dispatch(gameStateActions2.showGhostPiece());\n         keyIsDisabled[controls[\"rotateLeft\"]] = true;\n      }\n      if (keyIsPressed[controls[\"rotateRight\"]] && !keyIsDisabled[controls[\"rotateRight\"]]) {\n         dispatch(gameStateActions2.rotatePiece(false));\n         dispatch(gameStateActions2.getGhostCoords());\n         dispatch(gameStateActions2.showGhostPiece());\n         keyIsDisabled[controls[\"rotateRight\"]] = true;\n      }\n      if (keyIsPressed[controls[\"hardDrop\"]] && !keyIsDisabled[controls[\"hardDrop\"]]) {\n         controlsLocked = true;\n         dispatch(gameStateActions2.hardDrop());\n         dispatch(gameStateActions2.clearLines());\n         dispatch(gameStateActions2.checkIfGameWon());\n         await set(child(myRoomRef, \"turn\"), playerNumber === 1 ? 2 : 1);\n         keyIsDisabled[controls[\"hardDrop\"]] = true;\n         setTimeout(() => {\n            controlsLocked = false;\n         }, 400);\n      }\n      if (keyIsPressed[controls[\"softDrop\"]] && !keyIsDisabled[controls[\"softDrop\"]]) {\n         keyShiftCounter[controls[\"softDrop\"]] = 1;\n         dispatch(gameStateActions2.dropPiece());\n         dispatch(gameStateActions2.getGhostCoords());\n         dispatch(gameStateActions2.showGhostPiece());\n         keyIsDisabled[controls[\"softDrop\"]] = true;\n      }\n      if (keyIsPressed[controls[\"moveRight\"]] && !keyIsDisabled[controls[\"moveRight\"]]) {\n         keyShiftCounter[controls[\"moveRight\"]] = 1;\n         dispatch(gameStateActions2.shiftRight());\n         dispatch(gameStateActions2.getGhostCoords());\n         dispatch(gameStateActions2.showGhostPiece());\n         keyIsDisabled[controls[\"moveRight\"]] = true;\n      }\n      if (keyIsPressed[controls[\"moveLeft\"]] && !keyIsDisabled[controls[\"moveLeft\"]]) {\n         keyShiftCounter[controls[\"moveLeft\"]] = 1;\n         dispatch(gameStateActions2.shiftLeft());\n         dispatch(gameStateActions2.getGhostCoords());\n         dispatch(gameStateActions2.showGhostPiece());\n         keyIsDisabled[controls[\"moveLeft\"]] = true;\n      }\n   };\n   const gameLoop = async () => {\n      dispatch(gameStateActions2.dropPiece());\n      dispatch(gameStateActions2.getGhostCoords());\n      dispatch(gameStateActions2.showGhostPiece());\n   };\n\n   const beginGame = async () => {\n      set(child(myRoomRef, \"displayMessage\"), \"READY\");\n      await new Promise((resolve) => setTimeout(resolve, 500));\n      set(child(myRoomRef, \"displayMessage\"), \"GO\");\n      await new Promise((resolve) => setTimeout(resolve, 500));\n      await set(child(myRoomRef, \"grid\"), [\n         [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n         [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n         [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n         [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n         [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n         [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n         [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n         [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n         [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n         [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n         [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n         [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n         [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n         [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n         [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n         [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n         [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n         [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n         [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n         [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n         [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n      ]);\n      await set(child(myRoomRef, \"displayMessage\"), \"in game\");\n      await set(child(myRoomRef, \"/turn\"), playerNumber === 1 ? 2 : 1);\n   };\n\n   onDisconnect(child(onlineUsersRef, auth.currentUser.uid + \"/inRoom\")).set(false);\n   if (!displayMessage.includes(\"WON\")) {\n      onValue(child(myRoomRef, \"displayMessage\"), (snapshot) => {\n         if (snapshot.exists()) {\n            dispatch(gameStateActions2.setDisplayMessage(snapshot.val()));\n            if (snapshot.val() === \"READY\") {\n               dispatch(gameStateActions2.gettingReady());\n\n               startButtonLocked = true;\n            }\n         }\n      });\n   }\n\n   //updating the game grid\n   if (gameRunning && !myTurn) {\n      onValue(child(myRoomRef, \"grid\"), (snapshot) => {\n         if (snapshot.exists()) {\n            dispatch(gameStateActions2.setGrid(snapshot.val()));\n         }\n      });\n   }\n   if (gameRunning && !myTurn) {\n      onValue(child(myRoomRef, `player${playerNumber}GameInfo/linesCleared`), (snapshot) => {\n         dispatch(gameStateActions2.setMyLinesCleared(snapshot.val()));\n      });\n   }\n   //updating the queuePieces\n   onValue(child(myRoomRef, `player${playerNumber === 1 ? 2 : 1}GameInfo`), (snapshot) => {\n      if (snapshot.exists()) {\n         dispatch(\n            gameStateActions2.setOpponentInfo({\n               opponentPieceQueue: snapshot.val().gameQueue,\n               opponentLinesCleared: snapshot.val().linesCleared,\n            })\n         );\n      }\n   });\n\n   onValue(child(myRoomRef, \"turn\"), (snapshot) => {\n      if (snapshot.exists()) {\n         dispatch(gameStateActions2.setMyTurn(snapshot.val() === playerNumber));\n      }\n   });\n\n   document.onkeydown = (keycode) => {\n      if (startButtonLocked) {\n         return;\n      }\n      if (keycode.key === controls[\"newGame\"]) {\n         startButtonLocked = true;\n         beginGame();\n         //    setStartGame(true);\n         //    dispatch(gameStateActions.newGame());\n         //    dispatch(gameStateActions.getNewPiece());\n         //    dispatch(gameStateActions.getGhostCoords());\n         //    dispatch(gameStateActions.showGhostPiece());\n      }\n   };\n   return (\n      <Fragment>\n         <KeyControls></KeyControls>\n         <WhoseTurnText />\n         <div\n            style={{\n               display: \"flex\",\n               flexWrap: \"nowrap\",\n            }}\n         >\n            <LineClearedCounter player=\"opponent\" />\n            <PieceQueue player=\"opponent\"></PieceQueue>\n            <Grid></Grid>\n            <PieceQueue player=\"mine\"></PieceQueue>\n            <LineClearedCounter player=\"mine\" />\n         </div>\n         {!gameRunning && <InputForm />}\n         <div style={{ color: \"yellow\" }}>\n            <p>How To Play:</p>\n            <p>Press esc to start.</p>\n            <p>Game starts with other person first.</p>\n            <p>After player drops piece, other player goes.</p>\n            <p>Person that causes the board to overflow loses a line point.</p>\n            <p>Play until a person clears an amount of lines.</p>\n         </div>\n      </Fragment>\n   );\n};\n\nexport default memo(GameShared);\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}