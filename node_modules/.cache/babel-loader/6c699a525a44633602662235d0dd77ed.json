{"ast":null,"code":"import _regeneratorRuntime from\"/Users/albert/Desktop/-/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/albert/Desktop/-/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{off,push,set}from\"firebase/database\";import{useDispatch}from\"react-redux\";import{auth,roomsRef}from\"../../modules/firebase-config\";import{userInfoActions}from\"../../store/UserInfo\";import{jsx as _jsx}from\"react/jsx-runtime\";var OtherUser=function OtherUser(_ref){var username=_ref.username,uid=_ref.uid;var dispatch=useDispatch();var pushRoomsRef=push(roomsRef);var createRoomHandler=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:off(roomsRef);_context.next=3;return set(pushRoomsRef,{player1:auth.currentUser.uid,player2:uid,accepted:false});case 3:dispatch(userInfoActions.setRoomStatus(\"waiting\"));dispatch(userInfoActions.setRoomKey(pushRoomsRef.key));dispatch(userInfoActions.setOpponentName(username));dispatch(userInfoActions.setOpponentid(uid));case 7:case\"end\":return _context.stop();}}},_callee);}));return function createRoomHandler(){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:createRoomHandler,children:username})});};export default OtherUser;","map":{"version":3,"names":["off","push","set","useDispatch","auth","roomsRef","userInfoActions","OtherUser","username","uid","dispatch","pushRoomsRef","createRoomHandler","player1","currentUser","player2","accepted","setRoomStatus","setRoomKey","key","setOpponentName","setOpponentid"],"sources":["/Users/albert/Desktop/-/src/Components/Multiplayer/OtherUser.js"],"sourcesContent":["import { off, push, set } from \"firebase/database\";\nimport { useDispatch } from \"react-redux\";\nimport { auth,  roomsRef } from \"../../modules/firebase-config\";\nimport { userInfoActions } from \"../../store/UserInfo\";\n\nconst OtherUser = ({ username, uid }) => {\n   const dispatch = useDispatch();\n   const pushRoomsRef = push(roomsRef);\n   const createRoomHandler = async () => {\n      off(roomsRef)\n      await set(pushRoomsRef, { player1: auth.currentUser.uid, player2: uid, accepted: false });\n      dispatch(userInfoActions.setRoomStatus(\"waiting\"));\n      dispatch(userInfoActions.setRoomKey(pushRoomsRef.key));\n      dispatch(userInfoActions.setOpponentName(username));\n      dispatch(userInfoActions.setOpponentid(uid));\n   };\n   return (\n      <li>\n         <button onClick={createRoomHandler}>{username}</button>\n      </li>\n   );\n};\n\nexport default OtherUser;\n"],"mappings":"0OAAA,OAASA,GAAT,CAAcC,IAAd,CAAoBC,GAApB,KAA+B,mBAA/B,CACA,OAASC,WAAT,KAA4B,aAA5B,CACA,OAASC,IAAT,CAAgBC,QAAhB,KAAgC,+BAAhC,CACA,OAASC,eAAT,KAAgC,sBAAhC,C,2CAEA,GAAMC,UAAS,CAAG,QAAZA,UAAY,MAAuB,IAApBC,SAAoB,MAApBA,QAAoB,CAAVC,GAAU,MAAVA,GAAU,CACtC,GAAMC,SAAQ,CAAGP,WAAW,EAA5B,CACA,GAAMQ,aAAY,CAAGV,IAAI,CAACI,QAAD,CAAzB,CACA,GAAMO,kBAAiB,6FAAG,qIACvBZ,GAAG,CAACK,QAAD,CAAH,CADuB,sBAEjBH,IAAG,CAACS,YAAD,CAAe,CAAEE,OAAO,CAAET,IAAI,CAACU,WAAL,CAAiBL,GAA5B,CAAiCM,OAAO,CAAEN,GAA1C,CAA+CO,QAAQ,CAAE,KAAzD,CAAf,CAFc,QAGvBN,QAAQ,CAACJ,eAAe,CAACW,aAAhB,CAA8B,SAA9B,CAAD,CAAR,CACAP,QAAQ,CAACJ,eAAe,CAACY,UAAhB,CAA2BP,YAAY,CAACQ,GAAxC,CAAD,CAAR,CACAT,QAAQ,CAACJ,eAAe,CAACc,eAAhB,CAAgCZ,QAAhC,CAAD,CAAR,CACAE,QAAQ,CAACJ,eAAe,CAACe,aAAhB,CAA8BZ,GAA9B,CAAD,CAAR,CANuB,sDAAH,kBAAjBG,kBAAiB,2CAAvB,CAQA,mBACG,iCACG,eAAQ,OAAO,CAAEA,iBAAjB,UAAqCJ,QAArC,EADH,EADH,CAKF,CAhBD,CAkBA,cAAeD,UAAf"},"metadata":{},"sourceType":"module"}