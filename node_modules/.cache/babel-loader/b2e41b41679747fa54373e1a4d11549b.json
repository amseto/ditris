{"ast":null,"code":"import _toConsumableArray from\"/Users/albert/Desktop/-/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _createForOfIteratorHelper from\"/Users/albert/Desktop/-/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";import{child,off,set}from\"@firebase/database\";import{createSlice}from\"@reduxjs/toolkit\";import{TETRIMINOS}from\"../Components/GameUI/Tetrimino\";import{auth,getUsernameFromuid}from\"../modules/firebase-config\";import Queue from\"../modules/piece-queue\";var pieceArray=[\"I\",\"I\",\"T\",\"T\",\"L\",\"L\",\"J\",\"J\",\"Z\",\"Z\",\"S\",\"S\",\"O\",\"O\"];var getRandomPiece=function getRandomPiece(){if(pieceArray.length===0){pieceArray=[\"I\",\"I\",\"T\",\"T\",\"L\",\"L\",\"J\",\"J\",\"Z\",\"Z\",\"S\",\"S\",\"O\",\"O\"];}var value=Math.floor(pieceArray.length*Math.random());return pieceArray.splice(value,1);};var getCoords=function getCoords(type,rotatePos,xPos,yPos){return TETRIMINOS[type][rotatePos].map(function(row,rowPos){return row.map(function(col,colPos){if(col){return{x:xPos+colPos,y:yPos+rowPos};}return null;});});};var _rotatePiece=function rotatePiece(isCounterClockwise,state){var rotatePos=state.rotatePos;if(isCounterClockwise){if(rotatePos===0){return 3;}else{return rotatePos-1;}}else{if(rotatePos===3){return 0;}else{return rotatePos+1;}}};var convertMappingToCoords=function convertMappingToCoords(state,mapping){var forGhost=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;var coordArray=[];var _iterator=_createForOfIteratorHelper(mapping),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var array=_step.value;var _iterator2=_createForOfIteratorHelper(array),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var coord=_step2.value;if(coord){if(coordIsValid(state,coord,forGhost)){coordArray.push(coord);}}}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}}}catch(err){_iterator.e(err);}finally{_iterator.f();}return coordArray;};var gameStateInitialState={playerNumber:null,gameRunning:false,myCurrentShape:null,myCurrentCoords:[],myGhostCoords:[],myPieceQueue:null,myHeldPiece:null,myLinesCleared:0,opponentPieceQueue:[],opponentHeldPiece:null,opponentLinesCleared:0,currentGameStatus:\"NONE\",rotatePos:0,xPos:3,yPos:0,grid:[[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"],[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"],[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"],[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"],[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"],[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"],[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"],[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"],[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"],[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"],[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"],[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"],[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"],[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"],[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"],[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"],[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"],[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"],[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"],[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"],[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"]],rotated:false,displayMessage:\"\",myTurn:null,linesToClear:10};export var myRoomRef=null;export var pieceQueue=new Queue();var removeLastState=function removeLastState(state){var _iterator3=_createForOfIteratorHelper(state.myCurrentCoords),_step3;try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){var coord=_step3.value;state.grid[coord.y][coord.x]=\"None\";}}catch(err){_iterator3.e(err);}finally{_iterator3.f();}};var removeLastGhostPiece=function removeLastGhostPiece(state){var _iterator4=_createForOfIteratorHelper(state.myGhostCoords),_step4;try{for(_iterator4.s();!(_step4=_iterator4.n()).done;){var coord=_step4.value;state.grid[coord.y][coord.x]=\"None\";}}catch(err){_iterator4.e(err);}finally{_iterator4.f();}};var placeBlocks=function placeBlocks(state){var forGhost=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(forGhost){var colorName=state.myCurrentShape+\"ghost\";var _iterator5=_createForOfIteratorHelper(state.myGhostCoords),_step5;try{for(_iterator5.s();!(_step5=_iterator5.n()).done;){var coord=_step5.value;state.grid[coord.y][coord.x]=colorName;var _iterator6=_createForOfIteratorHelper(state.myCurrentCoords),_step6;try{for(_iterator6.s();!(_step6=_iterator6.n()).done;){var currentCoord=_step6.value;if(currentCoord.y===coord.y&&currentCoord.x===coord.x){state.grid[coord.y][coord.x]=state.myCurrentShape;}}}catch(err){_iterator6.e(err);}finally{_iterator6.f();}}}catch(err){_iterator5.e(err);}finally{_iterator5.f();}}else{var _iterator7=_createForOfIteratorHelper(state.myCurrentCoords),_step7;try{for(_iterator7.s();!(_step7=_iterator7.n()).done;){var _coord=_step7.value;state.grid[_coord.y][_coord.x]=state.myCurrentShape;}}catch(err){_iterator7.e(err);}finally{_iterator7.f();}}};var coordIsValid=function coordIsValid(state,coord){var forGhost=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;if(coord){if(coord.y<=20&&coord.x>=0&&coord.x<=9){var _iterator8=_createForOfIteratorHelper(state.myCurrentCoords),_step8;try{for(_iterator8.s();!(_step8=_iterator8.n()).done;){var currentCoord=_step8.value;if(forGhost){if(currentCoord.y===coord.y&&currentCoord.x===coord.x){return true;}}}}catch(err){_iterator8.e(err);}finally{_iterator8.f();}if(state.grid[coord.y][coord.x].length>1){return true;}}}return false;};var gameStateSlice2=createSlice({name:\"gameState2\",initialState:gameStateInitialState,reducers:{reset:function reset(state){state.playerNumber=null;state.gameRunning=false;state.myCurrentShape=null;state.myCurrentCoords=[];state.myGhostCoords=[];state.myPieceQueue=null;state.myHeldPiece=null;state.myLinesCleared=0;state.opponentPieceQueue=[];state.opponentHeldPiece=null;state.opponentLinesCleared=0;state.currentGameStatus=\"NONE\";state.rotatePos=0;state.xPos=3;state.yPos=0;state.grid=[[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"],[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"],[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"],[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"],[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"],[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"],[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"],[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"],[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"],[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"],[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"],[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"],[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"],[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"],[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"],[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"],[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"],[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"],[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"],[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"],[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"]];state.rotated=false;state.displayMessage=\"\";state.myTurn=null;state.linesToClear=10;myRoomRef=null;},setGrid:function setGrid(state,grid){state.grid=grid.payload;},sendGrid:function sendGrid(state){set(child(myRoomRef,\"grid\"),state.grid);},gettingReady:function gettingReady(state){state.myCurrentShape=null;state.myCurrentCoords=[];state.myGhostCoords=[];state.myPieceQueue=null;state.myHeldPiece=null;state.myLinesCleared=0;state.currentGameStatus=\"NONE\";state.grid=[[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"],[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"],[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"],[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"],[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"],[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"],[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"],[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"],[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"],[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"],[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"],[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"],[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"],[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"],[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"],[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"],[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"],[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"],[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"],[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"],[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"]];pieceQueue=new Queue();set(child(myRoomRef,\"player\".concat(state.playerNumber,\"GameInfo\")),{gameQueue:pieceQueue.elements,linesCleared:state.myLinesCleared});},newGame:function newGame(state){state.xPos=3;state.yPos=0;state.rotatePos=0;pieceArray=[\"I\",\"I\",\"T\",\"T\",\"L\",\"L\",\"J\",\"J\",\"Z\",\"Z\",\"S\",\"S\",\"O\",\"O\"];for(var i=0;i<5;i++){var _pieceQueue;(_pieceQueue=pieceQueue).enqueue.apply(_pieceQueue,_toConsumableArray(getRandomPiece()));}set(child(myRoomRef,\"player\".concat(state.playerNumber,\"GameInfo\")),{gameQueue:pieceQueue.elements,linesCleared:state.myLinesCleared});},setOpponentInfo:function setOpponentInfo(state,action){state.opponentPieceQueue=action.payload.opponentPieceQueue;state.opponentLinesCleared=action.payload.opponentLinesCleared;},clearLines:function clearLines(state){var newGrid=[];var linesCleared=0;var _iterator9=_createForOfIteratorHelper(state.grid),_step9;try{for(_iterator9.s();!(_step9=_iterator9.n()).done;){var row=_step9.value;if(row.every(function(blockType){return blockType!==\"None\";})){state.myLinesCleared+=1;linesCleared+=1;}else{newGrid.push(row);}}}catch(err){_iterator9.e(err);}finally{_iterator9.f();}for(var i=0;i<linesCleared;i++){newGrid.unshift([\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"]);}state.grid=newGrid;set(child(myRoomRef,\"grid\"),state.grid);off(child(myRoomRef,\"player\".concat(state.playerNumber,\"GameInfo/linesCleared\")));set(child(myRoomRef,\"player\".concat(state.playerNumber,\"GameInfo/linesCleared\")),state.myLinesCleared);},placeCurrentPiece:function placeCurrentPiece(state){placeBlocks(state);set(child(myRoomRef,\"grid\"),state.grid);},unfreeze:function unfreeze(state){state.currentGameStatus=\"FALLING\";},getNewPiece:function getNewPiece(state,opponentName){var _pieceQueue2;state.myGhostCoords=[];state.myCurrentShape=pieceQueue.dequeue();(_pieceQueue2=pieceQueue).enqueue.apply(_pieceQueue2,_toConsumableArray(getRandomPiece()));state.xPos=3;state.yPos=0;state.rotatePos=0;state.myCurrentCoords=convertMappingToCoords(state,getCoords(state.myCurrentShape,state.rotatePos,state.xPos,state.yPos));if(state.myCurrentCoords.length<4){var _pieceQueue3;state.grid=[[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"],[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"],[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"],[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"],[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"],[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"],[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"],[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"],[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"],[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"],[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"],[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"],[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"],[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"],[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"],[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"],[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"],[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"],[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"],[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"],[\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\",\"None\"]];state.myCurrentShape=pieceQueue.dequeue();(_pieceQueue3=pieceQueue).enqueue.apply(_pieceQueue3,_toConsumableArray(getRandomPiece()));off(child(myRoomRef,\"player\".concat(state.playerNumber===1?2:1,\"GameInfo\")));set(child(myRoomRef,\"player\".concat(state.playerNumber===1?2:1,\"GameInfo/linesCleared\")),state.opponentLinesCleared-1);off(child(myRoomRef,\"displayMessage\"));state.displayMessage=\"\".concat(opponentName.payload,\" CAUSED OVERFLOW\");set(child(myRoomRef,\"displayMessage\"),\"\".concat(opponentName.payload,\" CAUSED OVERFLOW\"));setTimeout(function(){set(child(myRoomRef,\"displayMessage\"),\"in game\");},1000);state.myCurrentCoords=convertMappingToCoords(state,getCoords(state.myCurrentShape,state.rotatePos,state.xPos,state.yPos));}placeBlocks(state);set(child(myRoomRef,\"player\".concat(state.playerNumber,\"GameInfo/gameQueue\")),pieceQueue.elements);state.currentGameStatus=\"FALLING\";},rotatePiece:function rotatePiece(state,action){var originalRotatePos=state.rotatePos;state.rotatePos=_rotatePiece(action.payload,{rotatePos:state.rotatePos});removeLastState(state);state.myCurrentCoords=convertMappingToCoords(state,getCoords(state.myCurrentShape,state.rotatePos,state.xPos,state.yPos));if(state.myCurrentCoords.length<4){state.rotatePos=originalRotatePos;state.myCurrentCoords=convertMappingToCoords(state,getCoords(state.myCurrentShape,state.rotatePos,state.xPos,state.yPos));}else{state.currentGameStatus=\"FALLING\";}placeBlocks(state);},dropPiece:function dropPiece(state){if(state.gameRunning){if(state.currentGameStatus===\"LANDING\"){state.currentGameStatus=\"FROZEN\";return;}removeLastState(state);state.yPos+=1;state.myCurrentCoords=convertMappingToCoords(state,getCoords(state.myCurrentShape,state.rotatePos,state.xPos,state.yPos));if(state.myCurrentCoords.length<4){state.yPos-=1;state.myCurrentCoords=convertMappingToCoords(state,getCoords(state.myCurrentShape,state.rotatePos,state.xPos,state.yPos));state.currentGameStatus=\"LANDING\";}else{state.currentGameStatus=\"FALLING\";}placeBlocks(state);}else{}},getGhostCoords:function getGhostCoords(state){removeLastGhostPiece(state);state.myGhostCoords=[];var _iterator10=_createForOfIteratorHelper(state.myCurrentCoords),_step10;try{for(_iterator10.s();!(_step10=_iterator10.n()).done;){var coord=_step10.value;state.myGhostCoords.push({x:coord.x,y:coord.y});}}catch(err){_iterator10.e(err);}finally{_iterator10.f();}var ghostYPos=state.yPos;while(state.myGhostCoords.length===4){ghostYPos+=1;state.myGhostCoords=convertMappingToCoords(state,getCoords(state.myCurrentShape,state.rotatePos,state.xPos,ghostYPos),true);}ghostYPos-=1;state.myGhostCoords=convertMappingToCoords(state,getCoords(state.myCurrentShape,state.rotatePos,state.xPos,ghostYPos),true);},hardDrop:function hardDrop(state){removeLastState(state);state.myCurrentCoords=state.myGhostCoords;placeBlocks(state);state.currentGameStatus=\"FROZEN\";},showGhostPiece:function showGhostPiece(state){placeBlocks(state,true);set(child(myRoomRef,\"grid\"),state.grid);},shiftLeft:function shiftLeft(state){removeLastState(state);state.xPos-=1;state.myCurrentCoords=convertMappingToCoords(state,getCoords(state.myCurrentShape,state.rotatePos,state.xPos,state.yPos));if(state.myCurrentCoords.length<4){state.xPos+=1;state.myCurrentCoords=convertMappingToCoords(state,getCoords(state.myCurrentShape,state.rotatePos,state.xPos,state.yPos));}else{state.currentGameStatus=\"FALLING\";}placeBlocks(state);},shiftRight:function shiftRight(state){removeLastState(state);state.xPos+=1;state.myCurrentCoords=convertMappingToCoords(state,getCoords(state.myCurrentShape,state.rotatePos,state.xPos,state.yPos));if(state.myCurrentCoords.length<4){state.xPos-=1;state.myCurrentCoords=convertMappingToCoords(state,getCoords(state.myCurrentShape,state.rotatePos,state.xPos,state.yPos));}else{state.currentGameStatus=\"FALLING\";}placeBlocks(state);},checkIfGameWon:function checkIfGameWon(state){if(state.myLinesCleared>=state.linesToClear){state.gameRunning=false;state.displayMessage=\"PLAYER \".concat(state.playerNumber,\" WON\");getUsernameFromuid(auth.currentUser.uid).then(function(name){set(child(myRoomRef,\"displayMessage\"),\"\".concat(name,\" WON\"));});}else{}},holdPiece:function holdPiece(state){if(state.rotated===true){return;}state.rotated=true;removeLastState(state);if(state.heldPiece===null){var _pieceQueue4;state.heldPiece=state.currentShape;state.currentShape=pieceQueue.dequeue();(_pieceQueue4=pieceQueue).enqueue.apply(_pieceQueue4,_toConsumableArray(getRandomPiece()));}else{var placeHolder=state.currentShape;state.currentShape=state.heldPiece;state.heldPiece=placeHolder;}state.xPos=3;state.yPos=0;state.rotatePos=0;state.currentCoords=convertMappingToCoords(state,getCoords(state.currentShape,state.rotatePos,state.xPos,state.yPos));placeBlocks(state);state.currentPieceState=\"FALLING\";},setMultiplayer:function setMultiplayer(state,action){state.playerNumber=action.payload.playerNumber;myRoomRef=action.payload.roomRef;},setDisplayMessage:function setDisplayMessage(state,displayMessage){state.displayMessage=displayMessage.payload;if(state.displayMessage===\"in game\"){state.gameRunning=true;}if(state.displayMessage.includes(\"WON\")){state.gameRunning=false;set(child(myRoomRef,\"turn\"),null);}},setMyTurn:function setMyTurn(state,bool){state.myTurn=bool.payload;},setMyLinesCleared:function setMyLinesCleared(state,lines){state.myLinesCleared=lines.payload;},setLinesToClear:function setLinesToClear(state,lines){state.linesToClear=lines.payload;}}});export var gameStateActions2=gameStateSlice2.actions;export default gameStateSlice2.reducer;","map":{"version":3,"names":["child","off","set","createSlice","TETRIMINOS","auth","getUsernameFromuid","Queue","pieceArray","getRandomPiece","length","value","Math","floor","random","splice","getCoords","type","rotatePos","xPos","yPos","map","row","rowPos","col","colPos","x","y","rotatePiece","isCounterClockwise","state","convertMappingToCoords","mapping","forGhost","coordArray","array","coord","coordIsValid","push","gameStateInitialState","playerNumber","gameRunning","myCurrentShape","myCurrentCoords","myGhostCoords","myPieceQueue","myHeldPiece","myLinesCleared","opponentPieceQueue","opponentHeldPiece","opponentLinesCleared","currentGameStatus","grid","rotated","displayMessage","myTurn","linesToClear","myRoomRef","pieceQueue","removeLastState","removeLastGhostPiece","placeBlocks","colorName","currentCoord","gameStateSlice2","name","initialState","reducers","reset","setGrid","payload","sendGrid","gettingReady","gameQueue","elements","linesCleared","newGame","i","enqueue","setOpponentInfo","action","clearLines","newGrid","every","blockType","unshift","placeCurrentPiece","unfreeze","getNewPiece","opponentName","dequeue","setTimeout","originalRotatePos","dropPiece","getGhostCoords","ghostYPos","hardDrop","showGhostPiece","shiftLeft","shiftRight","checkIfGameWon","currentUser","uid","then","holdPiece","heldPiece","currentShape","placeHolder","currentCoords","currentPieceState","setMultiplayer","roomRef","setDisplayMessage","includes","setMyTurn","bool","setMyLinesCleared","lines","setLinesToClear","gameStateActions2","actions","reducer"],"sources":["/Users/albert/Desktop/-/src/store/GameState2.js"],"sourcesContent":["import { child, off, set } from \"@firebase/database\";\nimport { createSlice } from \"@reduxjs/toolkit\";\n\nimport { TETRIMINOS } from \"../Components/GameUI/Tetrimino\";\nimport { auth, getUsernameFromuid } from \"../modules/firebase-config\";\n\nimport Queue from \"../modules/piece-queue\";\n\nlet pieceArray = [\"I\", \"I\", \"T\", \"T\", \"L\", \"L\", \"J\", \"J\", \"Z\", \"Z\", \"S\", \"S\", \"O\", \"O\"];\nconst getRandomPiece = () => {\n   if (pieceArray.length === 0) {\n      pieceArray = [\"I\", \"I\", \"T\", \"T\", \"L\", \"L\", \"J\", \"J\", \"Z\", \"Z\", \"S\", \"S\", \"O\", \"O\"];\n   }\n   const value = Math.floor(pieceArray.length * Math.random());\n   return pieceArray.splice(value, 1);\n};\n\nconst getCoords = (type, rotatePos, xPos, yPos) =>\n   TETRIMINOS[type][rotatePos].map((row, rowPos) =>\n      row.map((col, colPos) => {\n         if (col) {\n            return { x: xPos + colPos, y: yPos + rowPos };\n         }\n         return null;\n      })\n   );\nconst rotatePiece = (isCounterClockwise, state) => {\n   let { rotatePos } = state;\n   if (isCounterClockwise) {\n      if (rotatePos === 0) {\n         return 3;\n      } else {\n         return rotatePos - 1;\n      }\n   } else {\n      if (rotatePos === 3) {\n         return 0;\n      } else {\n         return rotatePos + 1;\n      }\n   }\n};\n\nconst convertMappingToCoords = (state, mapping, forGhost = false) => {\n   let coordArray = [];\n   for (const array of mapping) {\n      for (const coord of array) {\n         if (coord) {\n            if (coordIsValid(state, coord, forGhost)) {\n               coordArray.push(coord);\n            }\n         }\n      }\n   }\n   return coordArray;\n};\n\nconst gameStateInitialState = {\n   playerNumber: null,\n\n   gameRunning: false,\n   myCurrentShape: null,\n   myCurrentCoords: [],\n   myGhostCoords: [],\n   myPieceQueue: null,\n   myHeldPiece: null,\n   myLinesCleared: 0,\n\n   opponentPieceQueue: [],\n   opponentHeldPiece: null,\n   opponentLinesCleared: 0,\n\n   currentGameStatus: \"NONE\",\n   rotatePos: 0,\n   xPos: 3,\n   yPos: 0,\n\n   grid: [\n      [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n      [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n      [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n      [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n      [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n      [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n      [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n      [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n      [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n      [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n      [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n      [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n      [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n      [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n      [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n      [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n      [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n      [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n      [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n      [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n      [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n   ],\n\n   rotated: false,\n   displayMessage: \"\",\n\n   myTurn: null,\n   linesToClear:10,\n};\n\nexport let myRoomRef = null;\n\nexport let pieceQueue = new Queue();\n\nconst removeLastState = (state) => {\n   for (const coord of state.myCurrentCoords) {\n      state.grid[coord.y][coord.x] = \"None\";\n   }\n};\n\nconst removeLastGhostPiece = (state) => {\n   for (const coord of state.myGhostCoords) {\n      state.grid[coord.y][coord.x] = \"None\";\n   }\n};\n\nconst placeBlocks = (state, forGhost = false) => {\n   if (forGhost) {\n      const colorName = state.myCurrentShape + \"ghost\";\n      for (const coord of state.myGhostCoords) {\n         state.grid[coord.y][coord.x] = colorName;\n         for (const currentCoord of state.myCurrentCoords) {\n            if (currentCoord.y === coord.y && currentCoord.x === coord.x) {\n               state.grid[coord.y][coord.x] = state.myCurrentShape;\n            }\n         }\n      }\n   } else {\n      for (const coord of state.myCurrentCoords) {\n         state.grid[coord.y][coord.x] = state.myCurrentShape;\n      }\n   }\n};\n\nconst coordIsValid = (state, coord, forGhost = false) => {\n   if (coord) {\n      if (coord.y <= 20 && coord.x >= 0 && coord.x <= 9) {\n         for (let currentCoord of state.myCurrentCoords) {\n            if (forGhost) {\n               if (currentCoord.y === coord.y && currentCoord.x === coord.x) {\n                  return true;\n               }\n            }\n         }\n         if (state.grid[coord.y][coord.x].length > 1) {\n            return true;\n         }\n      }\n   }\n   return false;\n};\n\nconst gameStateSlice2 = createSlice({\n   name: \"gameState2\",\n   initialState: gameStateInitialState,\n   reducers: {\n      reset(state) {\n         state.playerNumber = null;\n\n         state.gameRunning = false;\n         state.myCurrentShape = null;\n         state.myCurrentCoords = [];\n         state.myGhostCoords = [];\n         state.myPieceQueue = null;\n         state.myHeldPiece = null;\n         state.myLinesCleared = 0;\n\n         state.opponentPieceQueue = [];\n         state.opponentHeldPiece = null;\n         state.opponentLinesCleared = 0;\n\n         state.currentGameStatus = \"NONE\";\n         state.rotatePos = 0;\n         state.xPos = 3;\n         state.yPos = 0;\n\n         state.grid = [\n            [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n            [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n            [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n            [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n            [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n            [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n            [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n            [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n            [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n            [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n            [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n            [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n            [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n            [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n            [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n            [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n            [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n            [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n            [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n            [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n            [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n         ];\n\n         state.rotated = false;\n         state.displayMessage = \"\";\n\n         state.myTurn = null;\n         state.linesToClear =10;\n         myRoomRef = null;\n      },\n      setGrid(state, grid) {\n         state.grid = grid.payload;\n      },\n      sendGrid(state) {\n         set(child(myRoomRef, \"grid\"), state.grid);\n      },\n      gettingReady(state) {\n         state.myCurrentShape = null;\n         state.myCurrentCoords = [];\n         state.myGhostCoords = [];\n         state.myPieceQueue = null;\n         state.myHeldPiece = null;\n         state.myLinesCleared = 0;\n         state.currentGameStatus = \"NONE\";\n         state.grid = [\n            [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n            [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n            [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n            [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n            [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n            [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n            [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n            [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n            [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n            [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n            [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n            [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n            [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n            [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n            [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n            [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n            [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n            [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n            [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n            [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n            [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n         ];\n         pieceQueue = new Queue();\n\n         set(child(myRoomRef, `player${state.playerNumber}GameInfo`), {\n            gameQueue: pieceQueue.elements,\n            linesCleared: state.myLinesCleared,\n         });\n      },\n      newGame(state) {\n         state.xPos = 3;\n         state.yPos = 0;\n         state.rotatePos = 0;\n\n         pieceArray = [\"I\", \"I\", \"T\", \"T\", \"L\", \"L\", \"J\", \"J\", \"Z\", \"Z\", \"S\", \"S\", \"O\", \"O\"];\n         for (let i = 0; i < 5; i++) {\n            pieceQueue.enqueue(...getRandomPiece());\n         }\n         set(child(myRoomRef, `player${state.playerNumber}GameInfo`), {\n            gameQueue: pieceQueue.elements,\n            linesCleared: state.myLinesCleared,\n         });\n      },\n      setOpponentInfo(state, action) {\n         state.opponentPieceQueue = action.payload.opponentPieceQueue;\n         state.opponentLinesCleared = action.payload.opponentLinesCleared;\n      },\n      clearLines(state) {\n         let newGrid = [];\n         let linesCleared = 0;\n         for (const row of state.grid) {\n            if (row.every((blockType) => blockType !== \"None\")) {\n               state.myLinesCleared += 1;\n               linesCleared += 1;\n            } else {\n               newGrid.push(row);\n            }\n         }\n         for (let i = 0; i < linesCleared; i++) {\n            newGrid.unshift([\n               \"None\",\n               \"None\",\n               \"None\",\n               \"None\",\n               \"None\",\n               \"None\",\n               \"None\",\n               \"None\",\n               \"None\",\n               \"None\",\n            ]);\n         }\n         state.grid = newGrid;\n         set(child(myRoomRef, \"grid\"), state.grid);\n         off(child(myRoomRef, `player${state.playerNumber}GameInfo/linesCleared`))\n         set(\n            child(myRoomRef, `player${state.playerNumber}GameInfo/linesCleared`),\n            state.myLinesCleared\n         );\n      },\n      placeCurrentPiece(state) {\n         placeBlocks(state);\n         set(child(myRoomRef, \"grid\"), state.grid);\n      },\n      unfreeze(state) {\n         state.currentGameStatus = \"FALLING\";\n      },\n      getNewPiece(state, opponentName) {\n         state.myGhostCoords = [];\n         state.myCurrentShape = pieceQueue.dequeue();\n         pieceQueue.enqueue(...getRandomPiece());\n         state.xPos = 3;\n         state.yPos = 0;\n         state.rotatePos = 0;\n         state.myCurrentCoords = convertMappingToCoords(\n            state,\n            getCoords(state.myCurrentShape, state.rotatePos, state.xPos, state.yPos)\n         );\n         if (state.myCurrentCoords.length < 4) {\n            state.grid = [\n               [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n               [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n               [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n               [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n               [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n               [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n               [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n               [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n               [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n               [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n               [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n               [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n               [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n               [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n               [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n               [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n               [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n               [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n               [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n               [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n               [\"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\"],\n            ];\n            state.myCurrentShape = pieceQueue.dequeue();\n            pieceQueue.enqueue(...getRandomPiece());\n            off(child(myRoomRef, `player${state.playerNumber === 1 ? 2 : 1}GameInfo`));\n            set(\n               child(myRoomRef, `player${state.playerNumber === 1 ? 2 : 1}GameInfo/linesCleared`),\n               state.opponentLinesCleared - 1\n            );\n            off(child(myRoomRef, \"displayMessage\"));\n            state.displayMessage = `${opponentName.payload} CAUSED OVERFLOW`;\n            set(child(myRoomRef, \"displayMessage\"), `${opponentName.payload} CAUSED OVERFLOW`);\n            setTimeout(() => {\n               set(child(myRoomRef, \"displayMessage\"), \"in game\");\n            }, 1000);\n\n            state.myCurrentCoords = convertMappingToCoords(\n               state,\n               getCoords(state.myCurrentShape, state.rotatePos, state.xPos, state.yPos)\n            );\n         }\n         placeBlocks(state);\n         set(\n            child(myRoomRef, `player${state.playerNumber}GameInfo/gameQueue`),\n            pieceQueue.elements\n         );\n\n         state.currentGameStatus = \"FALLING\";\n      },\n      rotatePiece(state, action) {\n         const originalRotatePos = state.rotatePos;\n         state.rotatePos = rotatePiece(action.payload, {\n            rotatePos: state.rotatePos,\n         });\n         removeLastState(state);\n         state.myCurrentCoords = convertMappingToCoords(\n            state,\n            getCoords(state.myCurrentShape, state.rotatePos, state.xPos, state.yPos)\n         );\n         if (state.myCurrentCoords.length < 4) {\n            state.rotatePos = originalRotatePos;\n            state.myCurrentCoords = convertMappingToCoords(\n               state,\n               getCoords(state.myCurrentShape, state.rotatePos, state.xPos, state.yPos)\n            );\n         } else {\n            state.currentGameStatus = \"FALLING\";\n         }\n         placeBlocks(state);\n      },\n      dropPiece(state) {\n         if (state.gameRunning) {\n            if (state.currentGameStatus === \"LANDING\") {\n               state.currentGameStatus = \"FROZEN\";\n               return;\n            }\n            removeLastState(state);\n            state.yPos += 1;\n            state.myCurrentCoords = convertMappingToCoords(\n               state,\n               getCoords(state.myCurrentShape, state.rotatePos, state.xPos, state.yPos)\n            );\n            if (state.myCurrentCoords.length < 4) {\n               state.yPos -= 1;\n               state.myCurrentCoords = convertMappingToCoords(\n                  state,\n                  getCoords(state.myCurrentShape, state.rotatePos, state.xPos, state.yPos)\n               );\n               state.currentGameStatus = \"LANDING\";\n            } else {\n               state.currentGameStatus = \"FALLING\";\n            }\n            placeBlocks(state);\n         } else {\n         }\n      },\n      getGhostCoords(state) {\n         removeLastGhostPiece(state);\n         state.myGhostCoords = [];\n         for (let coord of state.myCurrentCoords) {\n            state.myGhostCoords.push({ x: coord.x, y: coord.y });\n         }\n         let ghostYPos = state.yPos;\n         while (state.myGhostCoords.length === 4) {\n            ghostYPos += 1;\n            state.myGhostCoords = convertMappingToCoords(\n               state,\n               getCoords(state.myCurrentShape, state.rotatePos, state.xPos, ghostYPos),\n               true\n            );\n         }\n         ghostYPos -= 1;\n         state.myGhostCoords = convertMappingToCoords(\n            state,\n            getCoords(state.myCurrentShape, state.rotatePos, state.xPos, ghostYPos),\n            true\n         );\n      },\n      hardDrop(state) {\n         removeLastState(state);\n         state.myCurrentCoords = state.myGhostCoords;\n         placeBlocks(state);\n         state.currentGameStatus = \"FROZEN\";\n      },\n      showGhostPiece(state) {\n         placeBlocks(state, true);\n         set(child(myRoomRef, \"grid\"), state.grid);\n      },\n      shiftLeft(state) {\n         removeLastState(state);\n         state.xPos -= 1;\n         state.myCurrentCoords = convertMappingToCoords(\n            state,\n            getCoords(state.myCurrentShape, state.rotatePos, state.xPos, state.yPos)\n         );\n         if (state.myCurrentCoords.length < 4) {\n            state.xPos += 1;\n            state.myCurrentCoords = convertMappingToCoords(\n               state,\n               getCoords(state.myCurrentShape, state.rotatePos, state.xPos, state.yPos)\n            );\n         } else {\n            state.currentGameStatus = \"FALLING\";\n         }\n         placeBlocks(state);\n      },\n      shiftRight(state) {\n         removeLastState(state);\n         state.xPos += 1;\n         state.myCurrentCoords = convertMappingToCoords(\n            state,\n            getCoords(state.myCurrentShape, state.rotatePos, state.xPos, state.yPos)\n         );\n         if (state.myCurrentCoords.length < 4) {\n            state.xPos -= 1;\n            state.myCurrentCoords = convertMappingToCoords(\n               state,\n               getCoords(state.myCurrentShape, state.rotatePos, state.xPos, state.yPos)\n            );\n         } else {\n            state.currentGameStatus = \"FALLING\";\n         }\n         placeBlocks(state);\n      },\n      checkIfGameWon(state) {\n         if (state.myLinesCleared >= state.linesToClear) {\n            state.gameRunning = false;\n            state.displayMessage = `PLAYER ${state.playerNumber} WON`;\n            getUsernameFromuid(auth.currentUser.uid).then((name) => {\n               set(child(myRoomRef, \"displayMessage\"), `${name} WON`);\n            });\n         } else {\n         }\n      },\n      holdPiece(state) {\n         if (state.rotated === true) {\n            return;\n         }\n         state.rotated = true;\n\n         removeLastState(state);\n         if (state.heldPiece === null) {\n            state.heldPiece = state.currentShape;\n            state.currentShape = pieceQueue.dequeue();\n            pieceQueue.enqueue(...getRandomPiece());\n         } else {\n            const placeHolder = state.currentShape;\n            state.currentShape = state.heldPiece;\n            state.heldPiece = placeHolder;\n         }\n         state.xPos = 3;\n         state.yPos = 0;\n         state.rotatePos = 0;\n         state.currentCoords = convertMappingToCoords(\n            state,\n            getCoords(state.currentShape, state.rotatePos, state.xPos, state.yPos)\n         );\n         placeBlocks(state);\n         state.currentPieceState = \"FALLING\";\n      },\n      setMultiplayer(state, action) {\n         state.playerNumber = action.payload.playerNumber;\n         myRoomRef = action.payload.roomRef;\n      },\n      setDisplayMessage(state, displayMessage) {\n         state.displayMessage = displayMessage.payload;\n         if (state.displayMessage === \"in game\") {\n            state.gameRunning = true;\n         }\n         if (state.displayMessage.includes(\"WON\")) {\n            state.gameRunning = false;\n            set(child(myRoomRef, \"turn\"), null);\n         }\n      },\n      setMyTurn(state, bool) {\n         state.myTurn = bool.payload;\n      },\n      setMyLinesCleared(state, lines) {\n         state.myLinesCleared = lines.payload;\n      },\n      setLinesToClear(state,lines){\n         state.linesToClear = lines.payload\n      }\n   },\n});\n\nexport const gameStateActions2 = gameStateSlice2.actions;\n\nexport default gameStateSlice2.reducer;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}